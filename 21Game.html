<!doctype html>
<html lang="en">
<body>
<h1>Get the last one to win!</h1>
    Number of sticks: <span id="numSticks">21</span><br>
<input id="pickNum"><button id="pickButton">Pick</button>

<ul id="gameTranscript"></ul>
<script src="jquery.js"></script>
<script type="text/javascript">
    
    var gameSticks = {
        remainingSticks: 21,
        remove: function( n ) {
            this.remainingSticks -= n;
            $("#numSticks").text(this.remainingSticks);
        }
    };
    function autoPick() {
        return parseInt(Math.ceil(Math.random() * 3));
    }
    
    function addToTranscript(msg) {
        $("#gameTranscript").append("<li>" + msg + "</li>");
    }
    
    function errorInput(user) {
        alert(user + " can't enter number more than current number (" + gameSticks.remainingSticks + ")");
    }
    
    function pickSticks() {
        var pick = $("#pickNum").val();
        var computerNum = autoPick();
        if (pick <= 3 && computerNum <= 3) {
            if (pick <= gameSticks.remainingSticks) {
                gameSticks.remove(pick);
                addToTranscript( "You pick " + pick);
                if (computerNum <= gameSticks.remainingSticks) {
                    gameSticks.remove(computerNum);
                    addToTranscript("Computer picks " + computerNum);
                } else {
                    errorInput("computer");
                }
            } else {
                errorInput("you");
            }
        } else {
            alert("can't enter number more than 3");
        }
    }
    $(function() {
        $("#pickButton").click(pickSticks);
    });
</script>
</body>
</html>