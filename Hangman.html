<!doctype html>
<html lang="en">

<head>
    <title>Hangman (V:1.1.00)</title>
</head>

<body>
    <h1>
        Hangman
    </h1>
    <span id="wordHint"></span>
    <p>
        <span>your guess: </span>
        <input id="alphabel">
        <button id="guessButton">Guess!</button>
    </p>
    <p>
        <span id="wrongGuess">0</span> Wrong guesses.
    </p>
    <ul id="listGuess"></ul>


    <script src="jquery.js"></script>
    <script type="text/javascript">
        "use strict";

        // constructor
        function HangmanWord(word) {
            this.word = word;
            this.addWordList = new Array(this.word.length);
            for (var i = 0; i < this.word.length; i++) {
                this.addWordList[i] = "_";
            }
        }
        // prototype mean every object in the class can use this method 
        HangmanWord.prototype.check = function(alphabet) {
            // can found
            if (this.word.indexOf(alphabet) != -1) {
                return true;
            } else {
                return false;
            }
        };

        HangmanWord.prototype.getHint = function() {
            var text = "";
            // print array
            for (var i = 0; i < this.word.length; i++) {
                text += this.addWordList[i] + "  ";
            }
            $("#wordHint").text(text);
        }
        HangmanWord.prototype.add = function(alphabet) {
            var position = this.word.indexOf(alphabet);
            if (position != -1) {
                this.addWordList[position] = alphabet;
                while (this.word.indexOf(alphabet, position + 1) != -1) {
                    position = this.word.indexOf(alphabet, position + 1);
                    this.addWordList[position] = alphabet;
                }
            }
        }

        function guessAlphabel() {
            if ($("#alphabel").val().length > 1) {
                alert("Please, input only 1 Char");
            } else {
                var alphabel = $("#alphabel").val();
                // To non-sensitive case
                alphabel = alphabel.toLocaleUpperCase();
                if (alphabel == "") {
                    alert("Please, Enter One Char");
                } else {
                    if (hangman.check(alphabel)) {
                        hangman.add(alphabel);
                    } else {
                        var num = parseInt($("#wrongGuess").text());
                        $("#wrongGuess").text(++num);
                    }
                }
            }
        }
        // word list on this program
        var wordList = ["ELEPHANT", "COMMIT", "BRANCH", "PROGRAMMING", "KAMONTAT", "IMAGES", "RANDOM", "ENCOURAGE"];
        var random = parseInt(Math.random() * wordList.length);
        var hangman = new HangmanWord(wordList[random]);
        hangman.getHint();

        $(function() {
            $("#guessButton").click(function() {
                guessAlphabel();
                hangman.getHint();
            });
        });

    </script>
</body>

</html>
